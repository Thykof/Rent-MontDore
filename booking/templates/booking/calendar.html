{% extends "base.html" %}
{% load helpers %}
{% load staticfiles %}

{% block stylesheet %}
<link rel="stylesheet" href="{% static 'css/apps.css' %}" />
<link rel="stylesheet" href="{% static 'booking/css/booking.css' %}" />
{% endblock %}

{% block title %}Calendrier{% endblock %}

{% block navname %}booking{% endblock %}

{% block navbar %}
  <ul>
    <li {% if request.resolver_match.url_name == "booking-home-price" %}class="active"{% endif %}>
      <a href="{% url "booking-home-price" %}">Tarifs</a>
    </li>
    <li {% if request.resolver_match.url_name == "booking" %}class="active"{% endif %}>
      <a href="{% url "booking" %}">Réservation</a>
    </li>
    <li {% if request.resolver_match.url_name == "calendar" %}class="active"{% endif %}>
      <a href="{% url "calendar" %}">Disponibilités</a>
    </li>
  </ul>
{% endblock %}

{% block content %}
  <h1>Calendrier</h1>
  {% for booking in bookings %}
    <div class="booking">
      <p>Arrivée: {{ booking.coming_date|date:"d/m/Y" }}</p>
      <p>Départ: {{ booking.leaving_date|date:"d/m/Y" }}</p>
      {% if admin %}
        <h2>{{ booking.last_name }} {{ booking.first_name }}</h2>
        <p>Email: {{ booking.email_address }}</p>
        <p>Cure:
          {% if booking.cure %}
            oui
          {% else %}
            non
          {% endif %}
        </p>
      {% endif %}
    </div>
  {% empty %}
    <p>Aucune réservation.</p>
  {% endfor %}
  <div id="calendar">
    <table>
      <tr>
        <th></th>
        {% for month in months %}
          <th>{{ month }}</th>
        {% endfor %}
      </tr>
      {% for day in months_range %}
        <tr>
          <td>{{ day }}</td>
          {% for month in months %}
            <td></td>
          {% endfor %}
        </tr>
      {% endfor %}
    </table>
  </div>
{% endblock %}
